
@{
    ViewData["Title"] = "Đổi mật khẩu";
    var thongTinNhanVien = ViewData["thongTinNhanVien"] as NhanVien;
}


@{ 
    Html.RenderPartial("Nav");
}

<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Đổi mật khẩu</h1>
        </div>
    </div>
    <form method="post" action="/Nhanvien/@thongTinNhanVien.Id/Doimatkhau">
        <div class="row" style="margin-top: 30px;">
            <div class="col-lg-12">
                <div class="row" style="padding: 10px;">
                    <div class="col-md-2"><label for="oldPasswordInput" class="">Mật khẩu cũ:</label></div>
                    <div class="col-md-4"><input id="oldPasswordInput" name="oldPassword" class="form-control" type="password" placeholder="Nhập mật khẩu cũ" /></div>
                    <div class="col-md-2"></div>
                </div>

                <div class="row" style="padding: 10px;">
                    <div class="col-md-2"><label for="newPasswordInput" class="">Mật khẩu mới:</label></div>
                    <div class="col-md-4"><input id="newPasswordInput" onkeyup="checkRepeatPassword();" name="newPassword" class="form-control" type="password" placeholder="Nhập mật khẩu mới" /></div>
                    <div class="col-md-2">
                        <input type="checkbox" onclick="revealPassword();" class="" id="showPassword" />
                        <label for="showPassword" onclick="revealPassword();">Hiển thị mật khẩu</label>
                    </div>
                </div>

                <div class="row" style="padding: 10px;">
                    <div class="col-md-2"><label for="repeatPasswordInput" class="">Mật lại khẩu mới:</label></div>
                    <div class="col-md-4"><input id="repeatPasswordInput" onkeyup="checkRepeatPassword();" class="form-control" type="password" placeholder="Nhập lại mật khẩu mới" /></div>
                    <div class="col-md-2">
                        <span id="helpBlock" class="help-block" style="color: red"></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row" style="padding: 10px;">
            <div class="col-md-4"></div>
            <div class="col-md-4"><button type="submit" class="btn btn-default">Đổi mật khẩu</button></div>
            <div class="col-md-4"></div>
        </div>
        <p ></p>
        
    </form>
    
</div>

<script>
    function revealPassword() {
        var checkBox = document.getElementById("showPassword");
        var passwordField = document.getElementById("newPasswordInput");
 
        if (checkBox.checked) {
            passwordField.type = "text";
        } else {
            passwordField.type = "password";
        }
    }

    function checkRepeatPassword() {
        var newPasswordInput = document.getElementById("newPasswordInput");
        var newPasswordRepeat = document.getElementById("repeatPasswordInput");
        var help = document.getElementById("helpBlock");
        if (newPasswordInput.value != newPasswordRepeat.value) {
            help.innerText = "Mật khẩu nhập lại không trùng khớp.";
            newPasswordInput.style = "border: 1px solid red";
            newPasswordRepeat.style = "border: 1px solid red";
        } else {
            newPasswordInput.style = "border: 1px solid green";
            newPasswordRepeat.style = "border: 1px solid green";
            help.innerText = ""
        }
    }

</script>
